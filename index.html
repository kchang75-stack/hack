<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grocery Sales Tracker</title>
    <link rel="stylesheet" href="styles.css"> 

</head>

<script>
    let all_addresses = ["MANUALL", "ADDED"];


    // gets availabe addresses frmo the back end, will send to display address to display
    function queryAddress(){
        const context = document.getElementById("address_input")
        all_addresses.push(context.value)
        console.log(context.value)
        // queriedAddresses = fetch("ip:port")
        // // this gives us the avaliable address
        // // then
        // for(storeAddress=queryAddress[i]; storeAddress!=null; i++) {
        //     if(i == queryAddress.length) break;


        // }
        displayAddresses()
    }

    // displays all addresses as buttons
    function displayAddresses() {
        if(all_addresses.length <= 0) {
            // throw an error
            console.log("no locations");
        }
        const htmlLocations = [];
        const locations = document.getElementById("storeList");
        for(i = 0; i < all_addresses.length; i++) {
            htmlLocations.push(createLocationAdd(all_addresses[i]))
        }
        
        locations.innerHTML = htmlLocations;
    }

    // helper function of display address
    function createLocationAdd(address) {
        console.log(address)
        button = "<button class=\"storeButton\" onclick=\"addLocation\" >+</button>";
        string = "<p>" + address + "</p>" + button;
        return "<div class=\"buttonContainer\">" + string + "</div>"
    }

    // helper function of stores 'onclick'
    function addLocation() {

    }
</script>
<script src="App.js"></script> 
<body style="margin: 0px;">
    <div style="background-image: url('testimage.jpg'); height: 100px; opacity: 0.75; ">
    
    <h1 style="margin:0px; display: flex; justify-content: center; font-family: 'Courier New', Courier, monospace; color: forestgreen; font-size: 75px; ; ">Grocery</h1>
    </div>

    
    <div class="" id="global"> <!--this holds all the contents of the page-->
        <div id="navbar"> <a>LINK ONE</a> <a>LINK TWO</a> <a>LINK THREE</a> <a>LINK FOUR</a> <a>LINK FIVE</a> </div>
        <div class="mainContainer">
            <div id="storeContainer"> <!--this is one of the containers-->
                <label for="store">Enter Store</label>
                <input type="text" id="address_input" name="stores" placeholder="Store Address">
                <button onclick="queryAddress()">Find Stores</button>
                <!--this should call the backend and ask for the availiable locations to display-->

                <!--this should be where queried element are created-->
                <div id="storeList">

                </div>

            </div>
            <div id="groceryContainer"> <!--this is one of the containers-->
                <div class="search-bar"> <!--this one of the containers-->
                    <h1>Grocery Item Search</h1>
                    <input type = "contents" id="searchIntake" placeholder ="Search your groceries">
                    <button onclick = "App.searchGrocery()">search</button>
                     <div id="results"></div>
                </div>
            </div>
        </div>
        <div><!--this holds the selected addresses--></div>

    </div>
            
        <footer>
            <div id="bottomLayout">
                <h1>bunch elements</h1>
                <h1>bunch elements</h1>
                <h1>bunch elements</h1>
                <h1>bunch elements</h1>
            </div>
        </footer>
</body>
</html>